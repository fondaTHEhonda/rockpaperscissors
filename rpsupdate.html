<!DOCTYPE html>
<html>
    <head>
        <title>Rock, Paper, Scissors</title>
    </head>
    <body>
        <div id="button">
            <button id='rock'>Rock</button>
            <button id='paper'>Paper</button>
            <button id='scissors'>Scissors</button>
        </div>
        <div id="game">
            <p id= 'player'></p>
            <p id='computer'></p>
            <p id='results'></p>
        </div>
        <div id='score'>
            <p>Player Wins: </p>
            <p id="pScore">0</p>
            <p>Computer Wins: </p>
            <p id="cScore">0</p>
        </div>
        <div>
            <h1 id="winner"></h1>
        </div>
        <script>
            // Defining user choice by which button is clicked
            document.getElementById('rock').onclick = user;
            document.getElementById('paper').onclick = user;
            document.getElementById('scissors').onclick = user;

            // once selection is clicked, rps runs
            function user() {
                let playerScore = document.getElementById('pScore');
                let computerScore = document.getElementById('cScore');

                let playerSelection = this.id;
                

                let computerValue = Math.floor((Math.random() * 3) + 1);
                let computerChoice;
                if(computerValue === 1) {
                    computerChoice = "rock";
                } else if(computerValue === 2) {
                    computerChoice = "paper";
                } else if(computerValue === 3) {
                    computerChoice = "scissors";
                } else {
                    computerChoice = "Something went wrong";
                };

                document.getElementById('player').textContent = 'User: ' + playerSelection;
                document.getElementById('computer').textContent = 'Computer: ' + computerChoice;
                document.getElementById('results').textContent = playRound(playerSelection, computerChoice);


                function playRound(playChoice, compChoice) {
                    if(
                        (playChoice === "rock" && compChoice === "scissors") || 
                        (playChoice === "paper" && compChoice === "rock") ||
                        (playChoice === "scissors" && compChoice === "paper") &&
                        (playerScore < 5 || computerScore < 5)) {
                            playerScore.textContent = parseInt(playerScore.textContent) + 1;
                            return "You won the round!";
                            if(playerScore === 5) {
                                alert("YOU WIN");
                            }
                } else if(
                        (playChoice === "rock" && compChoice === "paper") ||
                        (playChoice === "paper" && compChoice === "scissors") ||
                        (playChoice === "scissors" && compChoice === "rock") &&
                        (playerScore < 5 || computerScore < 5)) {
                            computerScore.textContent = parseInt(computerScore.textContent) + 1;
                            return "You lost the round!";
                            if(computerScore === 5) {
                                alert("YOU LOSE");
                            }
                } else {
                    return "It's a draw. Play again!";
                } 
            } 
        } 
        </script>
    </body>
</html>